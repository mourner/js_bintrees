RBTree=function(t){var r=function(t){var i=r.m[t];if(i.mod)return i.mod.exports;var o=i.mod={exports:{}};return i(o,o.exports),o.exports};return r.m={},r.m["./treebase"]=function(t,r){function i(){}function o(t){this._tree=t,this._ancestors=[],this._cursor=null}i.prototype.clear=function(){this._root=null,this.size=0},i.prototype.find=function(t){for(var r=this._root;null!==r;){var i=this._comparator(t,r.data);if(0===i)return r.data;r=r.get_child(i>0)}return null},i.prototype.findIter=function(t){for(var r=this._root,i=this.iterator();null!==r;){var o=this._comparator(t,r.data);if(0===o)return i._cursor=r,i;i._ancestors.push(r),r=r.get_child(o>0)}return null},i.prototype.lowerBound=function(t){for(var r=this._root,i=this.iterator(),o=this._comparator;null!==r;){var e=o(t,r.data);if(0===e)return i._cursor=r,i;i._ancestors.push(r),r=r.get_child(e>0)}for(var n=i._ancestors.length-1;n>=0;--n)if(r=i._ancestors[n],o(t,r.data)<0)return i._cursor=r,i._ancestors.length=n,i;return i._ancestors.length=0,i},i.prototype.upperBound=function(t){for(var r=this.lowerBound(t),i=this._comparator;null!==r.data()&&0===i(r.data(),t);)r.next();return r},i.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},i.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},i.prototype.iterator=function(){return new o(this)},i.prototype.each=function(t){for(var r,i=this.iterator();null!==(r=i.next());)if(t(r)===!1)return},i.prototype.reach=function(t){for(var r,i=this.iterator();null!==(r=i.prev());)if(t(r)===!1)return},o.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},o.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right){var r;do{if(r=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===r)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},o.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left){var r;do{if(r=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===r)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},o.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},o.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t.exports=i},r.m.__main__=function(t,i){function o(t){this.data=t,this.left=null,this.right=null,this.red=!0}function e(t){this._root=null,this._comparator=t,this.size=0}function n(t){return null!==t&&t.red}function s(t,r){var i=t.get_child(!r);return t.set_child(!r,i.get_child(r)),i.set_child(r,t),t.red=!0,i.red=!1,i}function l(t,r){return t.set_child(!r,s(t.get_child(!r),!r)),s(t,r)}var h=r("./treebase");o.prototype.get_child=function(t){return t?this.right:this.left},o.prototype.set_child=function(t,r){t?this.right=r:this.left=r},e.prototype=new h,e.prototype.insert=function(t){var r=!1;if(null===this._root)this._root=new o(t),r=!0,this.size++;else{var i=new o(void 0),e=0,h=0,u=null,_=i,a=null,c=this._root;for(_.right=this._root;;){if(null===c?(c=new o(t),a.set_child(e,c),r=!0,this.size++):n(c.left)&&n(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),n(c)&&n(a)){var d=_.right===u;c===a.get_child(h)?_.set_child(d,s(u,!h)):_.set_child(d,l(u,!h))}var f=this._comparator(c.data,t);if(0===f)break;h=e,e=0>f,null!==u&&(_=u),u=a,a=c,c=c.get_child(e)}this._root=i.right}return this._root.red=!1,r},e.prototype.remove=function(t){if(null===this._root)return!1;var r=new o(void 0),i=r;i.right=this._root;for(var e=null,h=null,u=null,_=1;null!==i.get_child(_);){var a=_;h=e,e=i,i=i.get_child(_);var c=this._comparator(t,i.data);if(_=c>0,0===c&&(u=i),!n(i)&&!n(i.get_child(_)))if(n(i.get_child(!_))){var d=s(i,_);e.set_child(a,d),e=d}else if(!n(i.get_child(!_))){var f=e.get_child(!a);if(null!==f)if(n(f.get_child(!a))||n(f.get_child(a))){var p=h.right===e;n(f.get_child(a))?h.set_child(p,l(e,a)):n(f.get_child(!a))&&h.set_child(p,s(e,a));var g=h.get_child(p);g.red=!0,i.red=!0,g.left.red=!1,g.right.red=!1}else e.red=!1,f.red=!0,i.red=!0}}return null!==u&&(u.data=i.data,e.set_child(e.right===i,i.get_child(null===i.left)),this.size--),this._root=r.right,null!==this._root&&(this._root.red=!1),null!==u},t.exports=e},r("__main__")}(window);